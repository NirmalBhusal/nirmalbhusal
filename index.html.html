<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nepal Postal Codes</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
    body {
        font-family: 'Poppins', sans-serif;
        margin: 0;
        padding: 0;
        background: linear-gradient(to bottom, #f0f4f8, #d9e2ec);
        color: #333;
        min-height: 100vh;
    }

    .hero {
        position: relative;
        width: 100%;
        height: 300px;
        background: url('unnamed.jpg') center/cover no-repeat;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        text-shadow: 2px 2px 5px rgba(0,0,0,0.6);
        border-bottom-left-radius: 20px;
        border-bottom-right-radius: 20px;
    }

    .hero h1 {
        font-size: 3em;
        text-align: center;
    }

    #searchInput {
        margin-top: 15px;
        width: 90%;
        max-width: 500px;
        padding: 12px 20px;
        font-size: 1em;
        border-radius: 25px;
        border: none;
        outline: none;
        box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    }

    .container {
        width: 90%;
        max-width: 1400px;
        margin: 30px auto;
    }

    .card-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin-top: 20px;
    }

    .card {
        background: #fff;
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        cursor: pointer;
    }

    .card:hover {
        transform: scale(1.05);
        box-shadow: 0 12px 24px rgba(0,0,0,0.2);
    }

    .card h2 {
        margin: 0 0 10px;
        color: #dc143c;
    }

    .card p {
        margin: 5px 0;
        font-size: 0.95em;
    }

    .download-btn {
        display: block;
        margin: 30px auto;
        padding: 12px 25px;
        font-size: 1.1em;
        color: #fff;
        background: #1e90ff;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        transition: background 0.3s ease;
        text-align: center;
    }

    .download-btn:hover {
        background: #dc143c;
    }

    /* Modal Styles */
    .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0; top: 0;
        width: 100%; height: 100%;
        overflow: auto;
        background-color: rgba(0,0,0,0.8);
        align-items: center;
        justify-content: center;
    }

    .modal-content {
        background: #fff;
        border-radius: 15px;
        padding: 20px;
        max-width: 700px;
        width: 90%;
        text-align: center;
        position: relative;
        animation: fadeIn 0.4s ease;
    }

    .modal-content img {
        max-width: 100%;
        border-radius: 15px;
        margin-top: 10px;
    }

    .close {
        position: absolute;
        top: 10px; right: 15px;
        font-size: 25px;
        font-weight: bold;
        color: #dc143c;
        cursor: pointer;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: scale(0.9); }
        to { opacity: 1; transform: scale(1); }
    }
</style>
</head>
<body>

<div class="hero">
    <div>
        <h1>Nepal Postal Codes</h1>
        <input type="text" id="searchInput" placeholder="Search by District or City...">
    </div>
</div>

<div class="container">
    <div class="card-container" id="cardContainer"></div>
    <button class="download-btn" onclick="downloadList()">Download Postal Codes</button>
</div>

<!-- Modal -->
<div id="modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2 id="modalTitle"></h2>
        <img id="modalImage" src="" alt="City Image">
    </div>
</div>

<script>
const postalCodes = [
    { district: "Achham", code: "10700", cities: [{ name: "Mangalsen", code: "10701" }] },
    { district: "Arghakhanchi", code: "32700", cities: [{ name: "Sandhikharka", code: "32701" }] },
    { district: "Baglung", code: "33300", cities: [{ name: "Baglung", code: "33301" }] },
    { district: "Baitadi", code: "10200", cities: [{ name: "Dasharathchand", code: "10201" }] },
    { district: "Bajhang", code: "10500", cities: [{ name: "Jayaprithvi", code: "10501" }] },
    { district: "Bajura", code: "10600", cities: [{ name: "Martadi", code: "10601" }] },
    { district: "Banke", code: "21900", cities: [{ name: "Nepalgunj", code: "21901" }] },
    { district: "Bara", code: "44400", cities: [{ name: "Kalaiya", code: "44401" }] },
    { district: "Bardiya", code: "21800", cities: [{ name: "Gulariya", code: "21801" }] },
    { district: "Bhaktapur", code: "44800", cities: [{ name: "Bhaktapur", code: "44801" }] },
    { district: "Bhojpur", code: "57000", cities: [{ name: "Bhojpur", code: "57001" }] },
    { district: "Chitwan", code: "44200", cities: [{ name: "Bharatpur", code: "44201" }, { name: "Ratnanagar", code: "44202" }] },
    { district: "Dadeldhura", code: "10300", cities: [{ name: "Amargadhi", code: "10301" }] },
    { district: "Dailekh", code: "21600", cities: [{ name: "Narayan", code: "21601" }] },
    { district: "Dang", code: "22400", cities: [{ name: "Ghorahi", code: "22401" }, { name: "Tulsipur", code: "22402" }] },
    { district: "Darchula", code: "10100", cities: [{ name: "Darchula", code: "10101" }] },
    { district: "Dhading", code: "45100", cities: [{ name: "Dhading Besi", code: "45101" }] },
    { district: "Dhankuta", code: "56800", cities: [{ name: "Dhankuta", code: "56801" }] },
    { district: "Dhanusha", code: "45600", cities: [{ name: "Janakpur", code: "45601" }] },
    { district: "Dolakha", code: "45500", cities: [{ name: "Charikot", code: "45501" }] },
    { district: "Dolpa", code: "21400", cities: [{ name: "Dunai", code: "21401" }] },
    { district: "Doti", code: "10800", cities: [{ name: "Dipayal Silgadhi", code: "10801" }] },
    { district: "Gorkha", code: "34000", cities: [{ name: "Gorkha", code: "34001" }] },
    { district: "Gulmi", code: "32600", cities: [{ name: "Tamghas", code: "32601" }] },
    { district: "Humla", code: "21000", cities: [{ name: "Simikot", code: "21001" }] },
    { district: "Ilam", code: "57300", cities: [{ name: "Ilam", code: "57301" }] },
    { district: "Jajarkot", code: "21500", cities: [{ name: "Khalanga", code: "21501" }] },
    { district: "Jhapa", code: "57200", cities: [{ name: "Birtamod", code: "57201" }, { name: "Damak", code: "57202" }] },
    { district: "Jumla", code: "21200", cities: [{ name: "Jumla", code: "21201" }] },
    { district: "Kailali", code: "10900", cities: [{ name: "Dhangadhi", code: "10901" }] },
    { district: "Kalikot", code: "21300", cities: [{ name: "Manma", code: "21301" }] },
    { district: "Kanchanpur", code: "10400", cities: [{ name: "Bhimdatta", code: "10401" }] },
    { district: "Kapilvastu", code: "32800", cities: [{ name: "Taulihawa", code: "32801" }] },
    { district: "Kaski", code: "33700", cities: [{ name: "Pokhara", code: "33701" }] },
    { district: "Kathmandu", code: "44600", cities: [{ name: "Kathmandu", code: "44601" }, { name: "Kirtipur", code: "44602" }] },
    { district: "Kavrepalanchok", code: "45200", cities: [{ name: "Dhulikhel", code: "45201" }] },
    { district: "Khotang", code: "56200", cities: [{ name: "Diktel", code: "56201" }] },
    { district: "Lalitpur", code: "44700", cities: [{ name: "Lalitpur", code: "44701" }] },
    { district: "Lamjung", code: "33600", cities: [{ name: "Besisahar", code: "33601" }] },
    { district: "Mahottari", code: "45700", cities: [{ name: "Jaleshwar", code: "45701" }] },
    { district: "Makwanpur", code: "44100", cities: [{ name: "Hetauda", code: "44101" }] },
    { district: "Manang", code: "33500", cities: [{ name: "Chame", code: "33501" }] },
    { district: "Morang", code: "56600", cities: [{ name: "Biratnagar", code: "56601" }] },
    { district: "Mugu", code: "21100", cities: [{ name: "Gamgadhi", code: "21101" }] },
    { district: "Mustang", code: "33100", cities: [{ name: "Jomsom", code: "33101" }] },
    { district: "Myagdi", code: "33200", cities: [{ name: "Beni", code: "33201" }] },
    { district: "Nawalparasi East", code: "33000", cities: [{ name: "Kawasoti", code: "33001" }] },
    { district: "Nawalparasi West", code: "32900", cities: [{ name: "Ramgram", code: "32901" }] },
    { district: "Nuwakot", code: "44900", cities: [{ name: "Bidur", code: "44901" }] },
    { district: "Okhaldhunga", code: "56100", cities: [{ name: "Okhaldhunga", code: "56101" }] },
    { district: "Palpa", code: "32500", cities: [{ name: "Tansen", code: "32501" }] },
    { district: "Panchthar", code: "57400", cities: [{ name: "Phidim", code: "57401" }] },
    { district: "Parbat", code: "33400", cities: [{ name: "Kusma", code: "33401" }] },
    { district: "Parsa", code: "44300", cities: [{ name: "Birgunj", code: "44301" }] },
    { district: "Pyuthan", code: "22300", cities: [{ name: "Pyuthan", code: "22301" }] },
    { district: "Ramechhap", code: "45400", cities: [{ name: "Manthali", code: "45401" }] },
    { district: "Rasuwa", code: "45000", cities: [{ name: "Dhunche", code: "45001" }] },
    { district: "Rautahat", code: "44500", cities: [{ name: "Gaur", code: "44501" }] },
    { district: "Rolpa", code: "22100", cities: [{ name: "Liwang", code: "22101" }] },
    { district: "Rukum East", code: "22200", cities: [{ name: "Rukumkot", code: "22201" }] },
    { district: "Rukum West", code: "22000", cities: [{ name: "Musikot", code: "22001" }] },
    { district: "Rupandehi", code: "32914", cities: [{ name: "Bhairahawa", code: "32901" }, { name: "Butwal", code: "32902" }] },
    { district: "Salyan", code: "22200", cities: [{ name: "Salyan", code: "22201" }] },
    { district: "Sankhuwasabha", code: "56900", cities: [{ name: "Khandbari", code: "56901" }] },
    { district: "Saptari", code: "56400", cities: [{ name: "Rajbiraj", code: "56401" }] },
    { district: "Sarlahi", code: "45800", cities: [{ name: "Malangwa", code: "45801" }] },
    { district: "Sindhuli", code: "45900", cities: [{ name: "Sindhulimadi", code: "45901" }] },
    { district: "Sindhupalchok", code: "45300", cities: [{ name: "Chautara", code: "45301" }] },
    { district: "Siraha", code: "56500", cities: [{ name: "Siraha", code: "56501" }] },
    { district: "Solukhumbu", code: "56000", cities: [{ name: "Salleri", code: "56001" }] },
    { district: "Sunsari", code: "56700", cities: [{ name: "Inaruwa", code: "56701" }, { name: "Dharan", code: "56702" }] },
    { district: "Surkhet", code: "21700", cities: [{ name: "Birendranagar", code: "21701" }] },
    { district: "Syangja", code: "33800", cities: [{ name: "Putalibazar", code: "33801" }] },
    { district: "Tanahu", code: "33900", cities: [{ name: "Damauli", code: "33901" }] },
    { district: "Taplejung", code: "57500", cities: [{ name: "Phungling", code: "57501" }] },
    { district: "Tehrathum", code: "57100", cities: [{ name: "Myanglung", code: "57101" }] },
    { district: "Udayapur", code: "56300", cities: [{ name: "Triyuga", code: "56301" }] }
];

const cardContainer = document.getElementById('cardContainer');
const searchInput = document.getElementById('searchInput');
const modal = document.getElementById('modal');
const modalTitle = document.getElementById('modalTitle');
const modalImage = document.getElementById('modalImage');
const closeBtn = document.querySelector('.close');

function displayPostalCodes(data) {
    cardContainer.innerHTML = '';
    data.forEach(item => {
        const card = document.createElement('div');
        card.classList.add('card');
        let cityList = item.cities.map(city => `<p>${city.name}: ${city.code}</p>`).join('');
        card.innerHTML = `<h2>${item.district}</h2><p>District Code: ${item.code}</p>${cityList}`;
        card.addEventListener('click', () => showCityImage(item.cities[0]));
        cardContainer.appendChild(card);
    });
}

function showCityImage(city) {
    modalTitle.textContent = city.name;
    modalImage.src = city.image || "";
    modal.style.display = 'flex';
}

closeBtn.onclick = () => modal.style.display = 'none';
window.onclick = (e) => { if(e.target == modal) modal.style.display = 'none'; }

searchInput.addEventListener('input', () => {
    const term = searchInput.value.toLowerCase();
    const filtered = postalCodes.filter(item => item.district.toLowerCase().includes(term) || item.cities.some(c => c.name.toLowerCase().includes(term)));
    displayPostalCodes(filtered);
});

displayPostalCodes(postalCodes);

function downloadList() {
    let content = "Nepal Postal Codes\n\n";
    postalCodes.forEach(item => {
        content += `${item.district}: ${item.code}\n`;
        item.cities.forEach(city => { content += `  ${city.name}: ${city.code}\n`; });
        content += "\n";
    });
    const blob = new Blob([content], { type: 'text/plain' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = 'nepal_postal_codes.txt';
    link.click();
}
</script>

</body>
</html>
